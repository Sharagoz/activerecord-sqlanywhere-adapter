Using sqlanywhere
Run options: --seed 52359

# Running tests:

..........F........................E...................E.......E...............F......E..E........E.....FFFF..FF......S..........F.................

Finished tests in 3.915158s, 37.5464 tests/s, 81.9890 assertions/s.

  1) Failure:
test_attribute_names(BasicsTest) [test/cases/base_test.rb:1410]:
--- expected
+++ actual
@@ -1 +1 @@
-["id", "type", "firm_id", "firm_name", "name", "client_of", "rating", "account_id", "description"]
+[]


  2) Error:
test_column_names_are_escaped(BasicsTest):
RuntimeError: need a bad char for SQLAnywhereAdapter
    test/cases/base_test.rb:104:in `block in test_column_names_are_escaped'
    test/cases/base_test.rb:103:in `fetch'
    test/cases/base_test.rb:103:in `test_column_names_are_escaped'

  3) Error:
test_dup(BasicsTest):
ActiveRecord::StatementInvalid: TypeError: Cannot convert type. Must be STRING, FIXNUM, BIGNUM, FLOAT, or NIL: INSERT INTO "topics" ("approved", "author_email_address", "author_name", "bonus_time", "content", "created_at", "last_read", "replies_count", "title", "updated_at", "written_on") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:579:in `set_value'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:579:in `block (2 levels) in exec_query'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:559:in `each'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:559:in `block in exec_query'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:305:in `block in log'
    /home/chris/Documents/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:300:in `log'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:552:in `exec_query'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:69:in `exec_insert'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:96:in `insert'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:14:in `insert'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation.rb:68:in `insert'
    /home/chris/Documents/rails/activerecord/lib/active_record/persistence.rb:393:in `create'
    /home/chris/Documents/rails/activerecord/lib/active_record/attribute_methods/dirty.rb:79:in `create'
    /home/chris/Documents/rails/activerecord/lib/active_record/callbacks.rb:303:in `block in create'
    /home/chris/Documents/rails/activesupport/lib/active_support/callbacks.rb:354:in `_run__2229513384958819456__create__callbacks'
    /home/chris/Documents/rails/activesupport/lib/active_support/callbacks.rb:77:in `run_callbacks'
    /home/chris/Documents/rails/activerecord/lib/active_record/callbacks.rb:303:in `create'
    /home/chris/Documents/rails/activerecord/lib/active_record/timestamp.rb:57:in `create'
    /home/chris/Documents/rails/activerecord/lib/active_record/persistence.rb:374:in `create_or_update'
    /home/chris/Documents/rails/activerecord/lib/active_record/callbacks.rb:299:in `block in create_or_update'
    /home/chris/Documents/rails/activesupport/lib/active_support/callbacks.rb:364:in `_run__2229513384958819456__save__callbacks'
    /home/chris/Documents/rails/activesupport/lib/active_support/callbacks.rb:77:in `run_callbacks'
    /home/chris/Documents/rails/activerecord/lib/active_record/callbacks.rb:299:in `create_or_update'
    /home/chris/Documents/rails/activerecord/lib/active_record/persistence.rb:76:in `save'
    /home/chris/Documents/rails/activerecord/lib/active_record/validations.rb:51:in `save'
    /home/chris/Documents/rails/activerecord/lib/active_record/attribute_methods/dirty.rb:33:in `save'
    /home/chris/Documents/rails/activerecord/lib/active_record/transactions.rb:259:in `block (2 levels) in save'
    /home/chris/Documents/rails/activerecord/lib/active_record/transactions.rb:312:in `block in with_transaction_returning_status'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:201:in `block in transaction'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:209:in `within_new_transaction'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:201:in `transaction'
    /home/chris/Documents/rails/activerecord/lib/active_record/transactions.rb:208:in `transaction'
    /home/chris/Documents/rails/activerecord/lib/active_record/transactions.rb:309:in `with_transaction_returning_status'
    /home/chris/Documents/rails/activerecord/lib/active_record/transactions.rb:259:in `block in save'
    /home/chris/Documents/rails/activerecord/lib/active_record/transactions.rb:270:in `rollback_active_record_state!'
    /home/chris/Documents/rails/activerecord/lib/active_record/transactions.rb:258:in `save'
    test/cases/base_test.rb:712:in `test_dup'

  4) Error:
test_find_by_slug(BasicsTest):
ActiveRecord::StatementInvalid: ActiveRecord::ConnectionAdapters::SQLAnywhereException: Cannot convert '1-meowmeow' to a numeric: SELECT TOP 1   "topics".* FROM "topics"  WHERE "topics"."id" = ?
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:260:in `sqlanywhere_error'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:255:in `sqlanywhere_error_test'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:588:in `block in exec_query'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:305:in `block in log'
    /home/chris/Documents/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:300:in `log'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:552:in `exec_query'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:488:in `select'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:24:in `select_all'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:63:in `select_all'
    /home/chris/Documents/rails/activerecord/lib/active_record/querying.rb:39:in `block in find_by_sql'
    /home/chris/Documents/rails/activerecord/lib/active_record/explain.rb:35:in `logging_query_plan'
    /home/chris/Documents/rails/activerecord/lib/active_record/querying.rb:38:in `find_by_sql'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation.rb:568:in `exec_queries'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation.rb:459:in `block in load'
    /home/chris/Documents/rails/activerecord/lib/active_record/explain.rb:35:in `logging_query_plan'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation.rb:459:in `load'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation.rb:197:in `to_a'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation/finder_methods.rb:300:in `find_take'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation/finder_methods.rb:65:in `take'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation/finder_methods.rb:258:in `find_one'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation/finder_methods.rb:244:in `find_with_ids'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation/finder_methods.rb:35:in `find'
    /home/chris/.rvm/gems/ruby-1.9.3-p286@rails/bundler/gems/activerecord-deprecated_finders-dd99c375c44b/lib/active_record/deprecated_finders/relation.rb:123:in `find'
    /home/chris/Documents/rails/activerecord/lib/active_record/querying.rb:4:in `find'
    test/cases/base_test.rb:555:in `test_find_by_slug'

  5) Failure:
test_inspect_class(BasicsTest) [test/cases/base_test.rb:1232]:
Expected /^Topic\(id: integer, title: string/ to match "Topic(Table doesn't exist)".

  6) Error:
test_limit_should_allow_sql_literal(BasicsTest):
ActiveRecord::StatementInvalid: ActiveRecord::ConnectionAdapters::SQLAnywhereException: Syntax error near '.' on line 1: SELECT TOP 2-1   "topics".* FROM "topics" 
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:260:in `sqlanywhere_error'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:255:in `sqlanywhere_error_test'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:556:in `block in exec_query'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:305:in `block in log'
    /home/chris/Documents/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:300:in `log'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:552:in `exec_query'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:488:in `select'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:24:in `select_all'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:63:in `select_all'
    /home/chris/Documents/rails/activerecord/lib/active_record/querying.rb:39:in `block in find_by_sql'
    /home/chris/Documents/rails/activerecord/lib/active_record/explain.rb:35:in `logging_query_plan'
    /home/chris/Documents/rails/activerecord/lib/active_record/querying.rb:38:in `find_by_sql'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation.rb:568:in `exec_queries'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation.rb:459:in `block in load'
    /home/chris/Documents/rails/activerecord/lib/active_record/explain.rb:35:in `logging_query_plan'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation.rb:459:in `load'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation.rb:197:in `to_a'
    test/cases/base_test.rb:157:in `test_limit_should_allow_sql_literal'

  7) Error:
test_limit_with_comma(BasicsTest):
ActiveRecord::StatementInvalid: ActiveRecord::ConnectionAdapters::SQLAnywhereException: Syntax error near ',' on line 1: SELECT TOP 1,2   "topics".* FROM "topics" 
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:260:in `sqlanywhere_error'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:255:in `sqlanywhere_error_test'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:556:in `block in exec_query'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:305:in `block in log'
    /home/chris/Documents/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:300:in `log'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:552:in `exec_query'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:488:in `select'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:24:in `select_all'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:63:in `select_all'
    /home/chris/Documents/rails/activerecord/lib/active_record/querying.rb:39:in `block in find_by_sql'
    /home/chris/Documents/rails/activerecord/lib/active_record/explain.rb:35:in `logging_query_plan'
    /home/chris/Documents/rails/activerecord/lib/active_record/querying.rb:38:in `find_by_sql'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation.rb:568:in `exec_queries'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation.rb:459:in `block in load'
    /home/chris/Documents/rails/activerecord/lib/active_record/explain.rb:35:in `logging_query_plan'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation.rb:459:in `load'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation.rb:197:in `to_a'
    test/cases/base_test.rb:128:in `test_limit_with_comma'

  8) Error:
test_no_limit_offset(BasicsTest):
ActiveRecord::StatementInvalid: ActiveRecord::ConnectionAdapters::SQLAnywhereException: Syntax error near 'START' on line 1: SELECT START AT 3  "developers".* FROM "developers" 
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:260:in `sqlanywhere_error'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:255:in `sqlanywhere_error_test'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:556:in `block in exec_query'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:305:in `block in log'
    /home/chris/Documents/rails/activesupport/lib/active_support/notifications/instrumenter.rb:20:in `instrument'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:300:in `log'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:552:in `exec_query'
    /home/chris/Documents/activerecord-sqlanywhere-adapter/lib/active_record/connection_adapters/sqlanywhere_adapter.rb:488:in `select'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:24:in `select_all'
    /home/chris/Documents/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:63:in `select_all'
    /home/chris/Documents/rails/activerecord/lib/active_record/querying.rb:39:in `block in find_by_sql'
    /home/chris/Documents/rails/activerecord/lib/active_record/explain.rb:35:in `logging_query_plan'
    /home/chris/Documents/rails/activerecord/lib/active_record/querying.rb:38:in `find_by_sql'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation.rb:568:in `exec_queries'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation.rb:459:in `block in load'
    /home/chris/Documents/rails/activerecord/lib/active_record/explain.rb:35:in `logging_query_plan'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation.rb:459:in `load'
    /home/chris/Documents/rails/activerecord/lib/active_record/relation.rb:197:in `to_a'
    test/cases/base_test.rb:1111:in `block in test_no_limit_offset'
    /home/chris/Documents/rails/activesupport/lib/active_support/test_case.rb:74:in `assert_nothing_raised'
    test/cases/base_test.rb:1110:in `test_no_limit_offset'

  9) Failure:
test_preserving_time_objects_with_local_time_conversion_to_default_timezone_utc(BasicsTest) [test/cases/base_test.rb:238]:
Expected: 2000-01-01 00:00:00 -0500
  Actual: 2000-01-01 00:00:00 UTC

 10) Failure:
test_preserving_time_objects_with_time_with_zone_conversion_to_default_timezone_local(BasicsTest) [test/cases/base_test.rb:278]:
--- expected
+++ actual
@@ -1 +1 @@
-Sat, 01 Jan 2000 00:00:00 CST -06:00
+2000-01-01 00:00:00 -0500


 11) Failure:
test_preserving_time_objects_with_time_with_zone_conversion_to_default_timezone_utc(BasicsTest) [test/cases/base_test.rb:252]:
--- expected
+++ actual
@@ -1 +1 @@
-Sat, 01 Jan 2000 00:00:00 CST -06:00
+2000-01-01 00:00:00 UTC


 12) Failure:
test_preserving_time_objects_with_utc_time_conversion_to_default_timezone_local(BasicsTest) [test/cases/base_test.rb:265]:
Expected: 2000-01-01 00:00:00 UTC
  Actual: 2000-01-01 00:00:00 -0500

 13) Failure:
test_primary_key_with_no_id(BasicsTest) [test/cases/base_test.rb:123]:
Expected "id" to be nil.

 14) Failure:
test_quote(BasicsTest) [test/cases/base_test.rb:972]:
--- expected
+++ actual
@@ -1,3 +1,3 @@
-"\\ \x01 ' 
+"\\ \u0001 '
  \
  \""


 15) Failure:
test_table_exists(BasicsTest) [test/cases/base_test.rb:168]:
Failed assertion, no message given.

147 tests, 321 assertions, 9 failures, 6 errors, 1 skips
